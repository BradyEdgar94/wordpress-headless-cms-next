=== WP REST Yoast Meta ===
Contributors: rockfire, acato
Tags: yoast, wp-rest, wp-rest-api, api, rest, seo, meta tags, meta, json-ld
Requires at least: 4.7
Tested up to: 5.2
Requires PHP: 5.4
Stable tag: trunk
License: GPLv3
License URI: http://www.gnu.org/licenses/gpl.html

Adds meta tags as generated by Yoast SEO to the WP REST API. And adds a custom endpoint to retrieve all redirects as they are set in Yoast SEO Premium. Yoast SEO's JSON LD Schema.org data is also supported.

== Description ==

Are you using WordPress for a headless set-up, using the WP REST API? And would you like to use the Yoast SEO plugin just like you would for any other project? This plugin adds the meta tags generated by the Yoast SEO plugin to the WP REST API output, allowing your headless set-up to implement them. Also when you are using Yoast SEO Premium you have the option to retrieve redirects throught the API: this plugin adds a custom endpoint (`/wp-rest-yoast-meta/v1/redirects`) to provide those redirects in a JSON format. Since Yoast 11.0 JSON LD Schema.org data is also supported and is now also available through the WP REST API when using this plugin.

== Installation ==

=== Installation from within WordPress ===

1. Visit 'Plugins > Add New' (or 'My Sites > Network Admin > Plugins > Add New' if you are on a multisite installation).
1. Search for 'WP REST Yoast Meta'.
1. Activate the WP REST Yoast Meta plugin through the 'Plugins' menu in WordPress.

=== Installation manually ===

1. Upload the `wp-rest-yoast-meta` folder to the `/wp-content/plugins/` directory.
1. Activate the WP REST Yoast Meta plugin through the 'Plugins' menu in WordPress.

== Frequently Asked Questions ==

= I have installed the plugin, where can I find the Yoast meta tags? =

For each post/page/... you can find an array of meta tags in that object under `yoast_meta`.

= I have installed the plugin, where can I find the Yoast JSON LD Schema.org data? =

For each post/page/... you can find an array of JSON LD data in that object under `yoast_json_ld`.

= I have created a custom post type, will the plugin add the meta tags to that post type? =

Yes, the plugin will automatically add meta tags to custom post types. Unless you have created a custom WP_REST_Controller for it and have not implemented the `rest_prepare_POSTTYPE` filter.

= Can I add my own meta tags? =

Yes you can! Use the hook `wp_rest_yoast_meta/filter_yoast_meta` like this:

`/**
 * Add a custom meta tag.
 */
function wpym_add_custom_meta_tag( $yoast_meta ) {
    $yoast_meta[] = array(
        'property' => 'og:type',
        'content' => 'article'
    );
    return $yoast_meta;
}
add_filter( 'wp_rest_yoast_meta/filter_yoast_meta', 'wpym_add_custom_meta_tag', 10, 1);`

= I have the Yoast SEO Premium plugin installed, will it work? =

Yes this plugin supports both the free and the premium version of Yoast SEO. Please keep in mind that the free version of Yoast SEO does not allow you to specify redirects, so the redirects endpoint will return an empty set.

== Screenshots ==

1. The WP REST API output for the Hello World post example.

== Changelog ==

= 2019.4.2 =
Release Date: October 20th, 2019

Bugfix: Transients shouldn't be set without expiration.

= 2019.4.1 =
Release Date: October 18th, 2019

Bugfix: fix inconsistency between DOMDocument and simplexml in parsing json ld data.

= 2019.4.0 =
Release Date: October 17th, 2019

Feature: Added Yoast SEO's JSON LD Schema.org data to the WP REST API.

= 2019.3.0 =
Release Date: October 15th, 2019

Bugfix: Improved HTML parsing using DOMDocument.

= 2019.2.1 =
Release Date: June 27th, 2019

Bugfix: Yoast meta wasn't regenerated correctly after a post update.

= 2019.2.0 =
Release Date: June 16th, 2019

Improvement: Meet WordPress Coding Standards.
Bugfix: Better check if Yoast SEO (Premium) is installed and activated.

= 2019.1.0 =
Release Date: March 6th, 2019

First public version.
